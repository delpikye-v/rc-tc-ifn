import o,{useState as t,useRef as e,useEffect as n}from"react";import i from"joinclass";import{Tooltip as r}from"react-tooltip-z";var l=function(){return l=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o},l.apply(this,arguments)};var a=function(a){var c=a.children,d=a.id,s=a.className,p=a.truncateClassName,u=a.tagName,f=void 0===u?"span":u,m=a.tagTruncate,h=void 0===m?"span":m,v=a.tooltipClassName,y=a.tooltipContent,C=a.placement,g=void 0===C?"top":C,w=a.delayShow,b=void 0===w?250:w,N=a.display,O=void 0===N?"fade":N,S=a.backgroundColor,k=a.tooltipColor,E=a.limitWidth,W=void 0===E||E,j=a.onClick,I=void 0===j?function(){}:j,x=a.onMouseEnter,H=void 0===x?function(){}:x,M=a.onMouseLeave,z=void 0===M?function(){}:M,A=a.onShown,P=void 0===A?function(){}:A,T=a.onHidden,L=void 0===T?function(){}:T,R=a.mouseWheel,V=void 0===R||R,q=a.hideIfResize,B=void 0===q||q,D=a.hideIfScroll,F=a.top,G=a.bottom,J=a.right,K=a.left,Q=a.centerArrow,U=a.forceHide,X=a.width,Y=function(o,t){var e={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&t.indexOf(n)<0&&(e[n]=o[n]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(o);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(o,n[i])&&(e[n[i]]=o[n[i]])}return e}(a,["children","id","className","truncateClassName","tagName","tagTruncate","tooltipClassName","tooltipContent","placement","delayShow","display","backgroundColor","tooltipColor","limitWidth","onClick","onMouseEnter","onMouseLeave","onShown","onHidden","mouseWheel","hideIfResize","hideIfScroll","top","bottom","right","left","centerArrow","forceHide","width"]),Z=t(!1),$=Z[0],_=Z[1],oo=t(!1),to=oo[0],eo=oo[1],no=e(null);n((function(){var o=no.current||{},t=o.clientWidth,e=void 0===t?0:t,n=o.scrollWidth;eo(e<(void 0===n?0:n))}),[c,X]);var io=function(){var o=l({},Y.style||{});return!o.width&&X&&(o.width=X),o},ro=h,lo=o.Children.toArray(c)[0];return o.createElement(r,{tagName:f,className:i("dk-tooltip-if-need",s),tooltipClassName:v,tooltipContent:y||c,placement:g,trigger:"manual",backgroundColor:S,tooltipColor:k,limitWidth:W,delayShow:b,display:O,onClick:I,onMouseEnter:function(o){to&&_(!0),H(o),P()},onMouseLeave:function(o){to&&_(!1),z(o),L()},onShown:P,onHidden:function(){L(),_(!1)},mouseWheel:V,shareContext:!1,showSync:$,hideIfResize:B,hideIfScroll:D,top:F,bottom:G,right:J,left:K,centerArrow:Q,forceHide:U},o.isValidElement(lo)?o.cloneElement(lo,l(l({},lo.props),{ref:no,className:i("dk-text-truncate",lo.props.className,p),style:io()})):o.createElement(ro,{id:d,ref:no,className:i("dk-text-truncate",p),style:io()},c))};export{a as TruncateTooltip,a as default};
